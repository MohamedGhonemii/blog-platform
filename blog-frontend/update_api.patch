--- src/lib/api.ts.backup2
+++ src/lib/api.ts
@@ -28,12 +28,14 @@
   results: BlogPost[];
 }
 
-export async function getPublishedPosts(searchQuery?: string, categorySlug?: string): Promise<BlogPost[]> {
+export async function getPublishedPosts(
+  searchQuery?: string, 
+  categorySlug?: string,
+  page: number = 1,
+  pageSize: number = 6
+): Promise<ApiResponse> {
   try {
-    let apiUrl = `${API_BASE_URL}/api/posts/`;
-    
-    console.log('ðŸ“¡ Fetching all posts from:', apiUrl);
-    
+    let apiUrl = `${API_BASE_URL}/api/posts/?page=${page}&page_size=${pageSize}`;
     const response = await fetch(apiUrl, {
       cache: 'no-store',
       headers: {
@@ -46,41 +48,19 @@
     }
     
     const data: ApiResponse = await response.json();
-    console.log(`âœ… Fetched ${data.results.length} posts from API`);
-    
-    let filteredPosts = data.results;
-    
-    // Apply category filter client-side if provided
-    if (categorySlug) {
-      filteredPosts = filteredPosts.filter(post =>
-        post.categories.some(category => category.slug === categorySlug)
-      );
-      console.log(`ðŸ·ï¸  Filtered to ${filteredPosts.length} posts in category "${categorySlug}"`);
-    }
-    
-    // Apply search filter client-side if provided
-    if (searchQuery) {
-      const query = searchQuery.toLowerCase();
-      filteredPosts = filteredPosts.filter(post =>
-        post.title.toLowerCase().includes(query) ||
-        post.excerpt.toLowerCase().includes(query) ||
-        post.content?.toLowerCase().includes(query) ||
-        post.tags.some(tag => tag.name.toLowerCase().includes(query)) ||
-        post.categories.some(cat => cat.name.toLowerCase().includes(query))
-      );
-      console.log(`ðŸ” Filtered to ${filteredPosts.length} posts matching "${searchQuery}"`);
-    }
-    
-    // Sort by published date (newest first)
-    const sortedPosts = [...filteredPosts].sort((a, b) => {
-      return new Date(b.published_at).getTime() - new Date(a.published_at).getTime();
-    });
-    
-    return sortedPosts;
+    console.log(`âœ… Fetched page ${page}: ${data.results.length} posts (Total: ${data.count})`);
+    return data;
   } catch (error) {
     console.error('Error fetching posts:', error);
-    return [];
+    return {
+      count: 0,
+      next: null,
+      previous: null,
+      results: []
+    };
   }
 }
 
 export async function getCategories(): Promise<Category[]> {
